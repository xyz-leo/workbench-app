{% extends "base.html" %}

{% block content %}
<div class="container">

    <!-- =============================
         Page Title
         ============================= -->
    <section class="section">
        <h1>To-Do List</h1>
        <p class="subtitle">
            Organize your tasks into workspaces and manage them easily.
        </p>
    </section>

    <!-- =============================
         Workspace Selector Panel
         ============================= -->
    <section class="section">
        <div class="panel">
            <h2>Workspaces</h2>

            <div id="workspace-selector-panel">
                <select id="workspace-selector" style="flex: 1;">
                    <!-- JS will populate workspace options -->
                </select>

                <button
                    id="add-workspace"
                    class="button"
                    type="button"
                >
                    +
                </button>

                <button
                    id="remove-workspace"
                    class="button"
                    type="button"
                >
                    -
                </button>
            </div>
        </div>
    </section>

    <!-- =============================
         Tasks Panel
         ============================= -->
    <section class="section">
        <div class="panel">
            <div
                id="tasks-header"
                style="display: flex; align-items: center; gap: 0.5rem;"
            >
                <h2 style="flex: 1;">Tasks</h2>

                <button
                    id="add-task-btn"
                    class="button"
                    type="button"
                >
                    +
                </button>
            </div>

            <div id="tasks-container">
                <!-- JS will populate tasks for the selected workspace -->
            </div>
        </div>
    </section>

    <!-- =============================
         Task Modal
         ============================= -->
    <div id="task-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Edit Task</h2>

            <label for="task-modal-title">Title</label>
            <input type="text" id="task-modal-title">

            <label for="task-modal-desc">Description</label>
            <textarea id="task-modal-desc" rows="3"></textarea>

            <div style="margin-top: 1rem; text-align: right;">
                <button id="task-modal-save">Save</button>
                <button id="task-modal-cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- =============================
         Generic Action Modal
         ============================= -->
    <div id="action-modal" class="modal">
        <div class="modal-content" style="max-width: 360px;">
            <h2 id="action-modal-title"></h2>

            <div id="action-modal-body"></div>

            <div>
                <button id="action-confirm">Confirm</button>
                <button id="action-cancel">Cancel</button>
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/todo.js') }}"></script>
{% endblock %}

